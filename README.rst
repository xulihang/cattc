第七届计算机辅助翻译和技术传播大赛选手系统
=======================================

本服务器程序基于 `B4J <https://www.b4x.com/>`_ 和 `ABMaterial <https://alwaysbusycorner.com/abmaterial/>`_ 开发，感谢原作者Erel和AlwaysBusy的作品，让我可以在HTML/CSS/Javascript基础尚薄弱的现阶段也能开发出还算像样的程序。

下面是一些技术细节：

用户管理
--------

1. 用户数据库在刚开始测试时保存在json文件里，考虑到数据的安全性和并行读取等问题，改使用keyValueStore，将数据基于键值存储在sqlite数据库文件里。sqlite开启wal以支持多线程，并且避免数据损坏。

#. 用户使用邮箱注册，利用SMTP服务进行验证及密码重制服务。建立新用户或者重制密码时会检测数据库里的记录。

#. 用户密码尝试失败次数5次以上时，在1分钟内不能再进行登录尝试。目前没有启用验证码。

#. 用户登录使用session管理。只有登录才能访问的页面为私有页面，平时不能访问。

第三方支付
----------

因为没有营业执照，只能以个人方式收取报名费。银联/微信/支付宝官方都不支持个人收款类的api。

整合式的支付平台ping++仍然需要在支付宝这些网站签约。有第三方的payjs支持微信个人支付，但要收费。

国外的话，paypal的api和文档很完善，但是手续费较高，另外对银联卡支持不完全。整合式支付平台stripe不支持中国商家。

fastspring是专门为软件、内容等提供支付的平台，用户界面较为友好。支持webhook发送通知。

我建一个http handler就可以接受传来的json文件获取支付情况了。fastspring是二次结算，用户打给fastspring，然后它再打钱给我。所以它对售卖的产品的审核还是比较严格的。










